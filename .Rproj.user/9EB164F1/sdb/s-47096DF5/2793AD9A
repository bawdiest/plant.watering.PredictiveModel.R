{
    "collab_server" : "",
    "contents" : "library(\"RMySQL\");\n\ngetRecentWeatherData <- function () {\n\n\n\n# Create DB Connection ----------------------------------------------------\n\ncon <- dbConnect(MySQL(),\n                 user = \"read\", \n                 host = \"mikmak.cc\",\n                 password = \"809913\", \n                 db = \"weatherDW\");\n\n# Get Recent MessageID ----------------------------------------------------\n\nquery <- dbSendQuery(con, statement = paste(\"SELECT MAX(recID) FROM log WHERE msgv1 = 'WAE' AND sysID = '79cf6c22-dcc6-11e5-8e77-00113217113f'\"));\nrecID <- fetch(query)\n\nqueryStatement <- paste(\"SELECT logID FROM log WHERE recID = '\", recID, \"'\", ssep = \"\")\nquery <- dbSendQuery(con, statement = queryStatement);\nmaxLogID <- fetch(query)\n\n# Download Sensor Data ----------------------------------------------------\nqueryStatement <- paste(\"SELECT * FROM log WHERE logID ='\", maxLogID, \"'\", sep = \"\" )\nquery <- dbSendQuery(con, statement = queryStatement)\n#maxMsgID <- fetch(query, n = -1)\nweatherData <- fetch(query)\n\ndbDisconnect(con)\n\nweatherData <- cbind(weatherData[,4], weatherData[,5])\nweatherData <- (weatherData)\nrownames(weatherData) <- weatherData[,1]\nweatherData <- weatherData[,2]\n#weatherData <- t(weatherData)\n\n# 1. Temperature\n# 2. Pressure\n# 3. Wind\n# 4. Rain\n# 5. Humidity\nweatherData <- rbind(weatherData[1], weatherData[2], weatherData[4], weatherData[5], weatherData[3])\nrownames(weatherData) <- c(\"Temperature\", \"Pressure\", \"Wind\", \"Rain\", \"Humidity\")\nweatherData <- t(weatherData)\nreturn(weatherData)\n}",
    "created" : 1473018628843.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2952414212",
    "id" : "2793AD9A",
    "lastKnownWriteTime" : 1472853624,
    "last_content_update" : 0,
    "path" : "~/CloudStation/private/myProjects/plant.watering.PredictiveModel.R/getRecentMeteoData.R",
    "project_path" : "getRecentMeteoData.R",
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}